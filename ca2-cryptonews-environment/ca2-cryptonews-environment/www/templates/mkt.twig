{% extends "base.twig" %}

{% block title %} CryptoNews - Market {% endblock %}
{% block head %}
    <link rel="stylesheet" href="{{ full_url_for('home') }}/assets/css/styles.css"/>
    <style>
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
        }

        .market-updates {
            max-width: 90%; /* Adjust the max-width as needed */
            overflow-y: auto; /* Enable vertical scrolling */
            padding: 20px; /* Add padding to the container */
            background-color: #f9f9f9; /* Light gray background */
            border-radius: 10px; /* Add rounded corners */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Add shadow for depth */
        }

        .market-updates h1 {
            margin-bottom: 20px; /* Add margin below the title */
        }

        .market-updates h2 {
            margin-top: 30px; /* Add margin above each cryptocurrency */
        }

        .market-updates ul {
            padding-left: 0; /* Remove default padding from the list */
            list-style: none; /* Remove default list styles */
            display: flex; /* Use flexbox for layout */
            flex-wrap: wrap; /* Allow items to wrap into multiple rows */
            justify-content: space-between; /* Distribute items evenly across rows */
        }

        .market-updates li {
            width: calc(33.33% - 10px); /* Set width for each column with margin */
            margin-bottom: 10px; /* Add margin between each cryptocurrency */
            padding: 10px; /* Add padding to each item */
            background-color: #fff; /* White background for each item */
            border-radius: 5px; /* Add rounded corners to each item */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Add slight shadow for depth */
        }

        .market-updates li:hover {
            background-color: #f0f0f0; /* Light gray background on hover */
        }

        /* Add scrollbar styles */
        .market-updates::-webkit-scrollbar {
            width: 8px; /* Set the width of the scrollbar */
        }

        .market-updates::-webkit-scrollbar-thumb {
            background-color: #888; /* Color of the scrollbar thumb */
            border-radius: 4px; /* Rounded corners for the thumb */
        }

        .market-updates::-webkit-scrollbar-thumb:hover {
            background-color: #555; /* Darker color on hover */
        }
    </style>
{% endblock %}

{% block content %}
    <div class="container">
            <div class="market-updates" data-cy="market-updates">
                <div class="welcome-message" data-cy="welcome-message">
                    <h1 data-cy="market-updates__title">{{ pageTitle }}</h1>
                    {% if sessionEmpty == false %}
                        <p data-cy="market-updates__user-cryptobalance">Your current crypto balance: {{ cryptoBalance }}</p>
                    {% endif %}
                </div>

                <h2>Market Prices</h2>
                <ul data-cy="market-updates__list">
                    {% for crypto in marketPrices %}
                        <li data-cy="market-updates__item">
                            <h2 data-cy="market-updates__item-title">{{ crypto.name }}</h2>
                            <p data-cy="market-updates__item-price">${{ crypto.price }}</p>
                        </li>
                    {% endfor %}
                </ul>
            </div>
    </div>
{% endblock %}
