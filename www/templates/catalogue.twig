{% extends "baseLanding.twig" %}

{% block title %}Catalogue{% endblock %}

{% block content %}
    <div class="container position-sticky z-index-sticky top-0">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navbar-expand-lg  blur blur-rounded top-0 z-index-fixed shadow position-absolute my-3 py-2 start-0 end-0 mx-4">
                    <div class="container-fluid px-0">
                        <a href="/" class="navbar-brand font-weight-bolder ms-sm-3" rel="tooltip" title="Designed and Coded by Creative Tim" data-placement="bottom">
                            Bookworm
                        </a>
                        <a class="btn btn-sm  bg-gradient-primary  btn-round mb-0 ms-auto d-lg-none d-block">Profile</a>
                        <button class="navbar-toggler shadow-none ms-md-2" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon mt-2">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </span>
                        </button>
                        <div class="collapse navbar-collapse w-100 pt-3 pb-2 py-lg-0" id="navigation">
                            <ul class="navbar-nav navbar-nav-hover mx-auto">
                                <!-- Pages Account Blocks Docs -->
                                <li class="nav-item dropdown dropdown-hover mx-2">
                                    <a href="/catalogue" class="dropdown-item border-radius-md">
                                        <span class="ps-3">Catalogue</span>
                                    </a>
                                </li>
                            </ul>
                            <ul class="navbar-nav d-lg-block d-none">
                                {% if session %}
                                    <li class="nav-item">
                                        <a href="/profile"  onclick="smoothToPricing('pricing-soft-ui')">
                                            <img class="avatar avatar-sm avatar-scale-up shadow border-radius-lg border-0 active" src='{{ photo }}' alt="Profile Photo">
                                        </a>
                                    </li>
                                {% else %}
                                    <li class="nav-item">
                                        <a href="/sign-in" class="btn btn-sm  bg-gradient-primary  btn-round mb-0 me-1" onclick="smoothToPricing('pricing-soft-ui')">Sign In</a>
                                        <a href="/sign-up" class="btn btn-sm  bg-gradient-primary  btn-round mb-0 me-1" onclick="smoothToPricing('pricing-soft-ui')">Sign Up</a>
                                    </li>
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                </nav>
                <!-- End Navbar -->
            </div>
        </div>
    </div>
    <!-- Imagen de fondo -->
    <header class="header-2">
        <div class="page-header min-vh-35 relative" style="background-image: url('/assets/img/curved-images/curved2.jpg')">
            <span class="mask bg-gradient-primary"></span>
            <div class="position-absolute w-100 z-index-1 bottom-0">
                <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 40" preserveAspectRatio="none" shape-rendering="auto">
                    <defs>
                        <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                    </defs>
                    <g class="moving-waves">
                        <use xlink:href="#gentle-wave" x="48" y="-1" fill="rgba(255,255,255,0.40" />
                        <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.35)" />
                        <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.25)" />
                        <use xlink:href="#gentle-wave" x="48" y="8" fill="rgba(255,255,255,0.20)" />
                        <use xlink:href="#gentle-wave" x="48" y="13" fill="rgba(255,255,255,0.15)" />
                        <use xlink:href="#gentle-wave" x="48" y="16" fill="rgba(255,255,255,0.95" />
                    </g>
                </svg>
            </div>
        </div>
    </header>
    <!-- End Imagen de fondo -->

    <!-- Seccion de creacion de libro -->
    <!-- -------- START PRE-FOOTER 1 w/ SUBSCRIBE BUTTON AND IMAGE ------- -->
    <section class="py-7 mt-1">
        <div class="container-fluid px-0">
            <div class="row justify-content-center text-center">
                <div class="col-12 position-relative">
                    <div class="row bg-warning-soft bottom-0 py-7">
                        <div class="col-xl-6 text-start ms-auto">
                            <p class="mb-4">
                                Import a new book specifying the books ISBN
                            </p>
                            <div class="row">
                                <form  id="ISBNFormBookCreation" action="{{ formAction }}" method="{{ formMethod }}">
                                    <input type="hidden" name="formType" value="isbnForm">
                                    <div class="col-sm-5">
                                            <div class="input-group">
                                                <input id="isbn" type="text" name="isbn" class="form-control mb-sm-0 mb-2" placeholder="ISBN Here...">

                                            </div>
                                            <br>
                                            <div class="input-group">
                                                <button type="submit" class="btn btn-primary">Add</button>
                                            </div>
                                        </div>
                                </form>
                                {% if formErrors['isbn'] %}
                                    <p>{{ formErrors['isbn'] }}</p>
                                {% endif %}
                            </div>
                        </div>

                        <div class="col-xl-4 position-relative">
                            <img class="w-100 border-radius-section border-top-end-radius-0 border-bottom-end-radius-0 end-0 position-absolute max-width-300 mt-n10 d-xl-block d-none" src="../../assets/img/curved-images/curved13.jpg" alt="image">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div class="container py-4">
            <div class="row">
                <div class="col-lg-7 mx-auto d-flex justify-content-center flex-column">
                    <h3 class="text-center">Crea un nuevo libro</h3>
                    <form role="form" id="FullFormBookCreation" autocomplete="off" action="{{ formAction }}" method="{{ formMethod }}" enctype="multipart/form-data">
                        <input type="hidden" name="formType" value="fullForm">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <label>Nombre del autor</label>
                                    <div class="input-group">
                                        <input id="author" name="author" type="text" class="form-control" placeholder="" aria-label="Autor..." >
                                    </div>
                                    {% if formErrors['author'] %}
                                        <p>{{ formErrors['author'] }}</p>
                                    {% endif %}
                                </div>
                                <div class="col-md-6 ps-2">
                                    <label>Numero de paginas del libro</label>
                                    <div class="input-group">
                                        <input id="page_number" name="page_number" type="number" class="form-control" placeholder="" >
                                    </div>
                                    {% if formErrors['page_number'] %}
                                        <p>{{ formErrors['page_number'] }}</p>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="mb-4">
                                <label>Titulo del libro</label>
                                <div class="input-group mb-4">
                                    <input id="title" name="title" class="form-control" placeholder="" aria-label="Titulo..." type="text" >
                                </div>
                                {% if formErrors['title'] %}
                                    <p>{{ formErrors['title'] }}</p>
                                {% endif %}
                            </div>
                            <div class="mb-4">
                                <label>Portada del libro</label>
                                <div class="input-group">
                                    <input id="cover_image" name="cover_image" type="file" class="form-control" placeholder="Selecciona un archivo"  accept="image/png, image/jpeg, image/gif, image/svg+xml" multiple>
                                </div>
                                {% if formErrors['file'] %}
                                    <p>{{ formErrors['file'] }}</p>
                                {% endif %}
                            </div>
                            <div class="form-group mb-4">
                                <label>Descripción del libro</label>
                                <textarea id="description" name="description" class="form-control" rows="4" placeholder="Escribe la descripción del libro..."></textarea>
                                {% if formErrors['description'] %}
                                    <p>{{ formErrors['description'] }}</p>
                                {% endif %}
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <button type="submit" class="btn bg-gradient-dark w-100">Crea el libro</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- -------- START Features w/ title and 3 infos -------- -->
    <section class="pt-7 pb-0">
        <div class="container">
            <div class="row">
                {% for book in books %}
                    <div class="col-lg-4 col-md-6">
                        <div class="card card-blog card-plain">
                            <div class="position-relative">
                                <a class="d-block blur-shadow-image" href="catalogue/{{ book.getId }}>
                                    <img src="{{ book.cover_image }}" alt="{{ book.title }}">
                                </a>
                            </div>
                            <div class="card-body px-1 pt-3">
                                <a href="catalogue/{{ book.getId }}">
                                    <h5>{{ book.getTitle }}</h5>
                                </a>
                                <p>
                                    {{ book.getDescription }}
                                </p>
                            </div>
                        </div>
                    </div>
                {% endfor %}
                <div class="col-sm-7 ms-auto text-end">
                    <ul class="pagination pagination-primary mt-4">
                        <li class="page-item ms-auto">
                            <a class="page-link" href="javascript:;" aria-label="Previous">
                                <span aria-hidden="true"><i class="fa fa-angle-double-left" aria-hidden="true"></i></span>
                            </a>
                        </li>
                        <li class="page-item active">
                            <a class="page-link" href="javascript:;">1</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="javascript:;">2</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="javascript:;">3</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="javascript:;">4</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="javascript:;">5</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="javascript:;" aria-label="Next">
                                <span aria-hidden="true"><i class="fa fa-angle-double-right" aria-hidden="true"></i></span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- -------- END Features w/ title and 3 infos -------- -->


    <!-- End Seccion de caracteristicas -->
{% endblock %}
